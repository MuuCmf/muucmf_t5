
<section class="col-md-7 connectedSortable">
    <!--N日用户注册数-->
    <div class="box">
        <div class="box-header count_common_box">
            <span class="caption-subject">
                {:lang('_USER_INCREASE_RECENT_',array('count_day'=>$count_day))}
            </span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
                <button class="btn btn-info btn-sm" data-toggle="modal" data-target="#settingCount">
                    <i class="icon-cog"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="chart">
                <canvas id="regMember" style="width:100%;max-height:300px"></canvas>
            </div>
        </div>
    </div>

    <div class="box" data-id="count_active_day">
        <div class="box-header count_common_box">
            <span class="caption-subject">日活跃用户统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="chart">
                <canvas id="dayActiveChart" style="width:100%;height:355px"></canvas>
            </div>
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('Count/active',array('type'=>'day'))}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>
    <!--7日用户行为统计-->
    <div class="box" data-id="action_log">
        <div class="box-header count_common_box">
            <span class="caption-subject">7日用户行为统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="chart">
                <canvas id="actionLogChart" style="width:100%;height:300px"></canvas>
            </div>
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('action/actionlog')}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>
    <!--用户留存率-->
    <div class="box remain" data-id="count_remain">
        <div class="box-header count_common_box">
            <span class="caption-subject">新注册用户前8日留存率统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="actions">
                <div class="checkbox_block">
                    <label class="day1_label"><input type="checkbox" name="day_show[]" value="day1" checked/>次日</label>
                    <label class="day2_label"><input type="checkbox" name="day_show[]" value="day2" checked/>2日</label>
                    <label class="day3_label"><input type="checkbox" name="day_show[]" value="day3" checked/>3日</label>
                    <label class="day4_label"><input type="checkbox" name="day_show[]" value="day4" checked/>4日</label>
                    <label class="day5_label"><input type="checkbox" name="day_show[]" value="day5" checked/>5日</label>
                    <label class="day6_label"><input type="checkbox" name="day_show[]" value="day6" checked/>6日</label>
                    <label class="day7_label"><input type="checkbox" name="day_show[]" value="day7" checked/>7日</label>
                    <label class="day8_label"><input type="checkbox" name="day_show[]" value="day8" checked/>8日</label>
                </div>
            </div>
            <table class="remain-table">
                <thead>
                <tr>
                    <th style="width: 80px;">日期</th>
                    <th style="width: 80px;">注册人数</th>
                    <th>留存率</th>
                </tr>
                </thead>
                <tbody id="remain_data">
                    <include file="Count/_remain_data"/>
                </tbody>
            </table>
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('Count/remain')}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>
</section>

<section class="col-md-5 connectedSortable">

    <div class="box">
        <div class="box-header count_common_box">
            <span class="caption-subject">官方信息</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body clearfix">
            <div class="muu_link">
                <div class="col-xs-6 text-center">
                    <a class="muu_link_box" target="_blank" href="http://www.muucmf.cn/muucmf/index/document.html">
                        <i class="icon-book"></i> {:lang('_DOCUMENT_CENTER_')}
                    </a>
                </div>
                <div class="col-xs-6 text-center">
                    <a class="muu_link_box" target="_blank" href="http://www.muucmf.cn/forum">
                        <i class="icon-chrome"></i> {:lang('_OFFICIAL_GROUP_')}
                    </a>
                </div>
                <div class="col-xs-6 text-center">
                    <a class="muu_link_box" target="_blank" href="https://jq.qq.com/?_wv=1027&k=5k75PiH">
                        <i class="icon icon-chat"></i> QQ 讨论群
                    </a>
                </div>
                <div class="col-xs-6 text-center">
                    <a class="muu_link_box" target="_blank" href="https://gitee.com/dameng100/MuuCmf-T5">
                        <i class="icon icon-code-fork"></i> Gitee
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="box" data-id="count_active_week">
        <div class="box-header count_common_box">
            <span class="caption-subject">周活跃用户统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="chart">
                <canvas id="weekActiveChart" style="width:100%;height:355px"></canvas>
            </div>
            <!--图标插入位置-->
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('Count/active',array('type'=>'week'))}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>

    <div class="box" data-id="count_active_month">
        <div class="box-header count_common_box">
            <span class="caption-subject">月活跃用户统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="chart" >
                <canvas id="monthActiveChart" style="width:100%;height:355px"></canvas>
            </div>
            <!--图标插入位置-->
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('Count/active',array('type'=>'month'))}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>

    <div class="box" data-id="count_lost">
        <div class="box-header count_common_box">
            <span class="caption-subject">用户流失率统计</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <table id="table-data" class="table table-bordered table-striped table-hover">
                <!-- 表头 -->
                <thead>
                <tr>
                    <th>日期</th>
                    <th>用户总数</th>
                    <th>流失用户总数</th>
                    <th>新增流失用户数</th>
                    <th>用户流失率</th>
                    <th>创建时间</th>
                </tr>
                </thead>

                <!-- 列表 -->
                <tbody>
                {volist name="lostList" id="oneLost"}
                    <tr>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['date']}</td>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['user_num']}</td>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['lost_num']}</td>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['new_lost']}</td>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['rate']}</td>
                        <td style="width:auto;max-width: 150px;" class="text-ellipsis">{$oneLost['create_time']|time_format}</td>
                    </tr>
                {/volist}
            </table>
        </div>
        <div class="box-footer clearfix">
            <div class="btn-arrow-link pull-right">
                <a href="{:Url('Count/lost')}">查看更多</a>
                <i class="icon-arrow-right"></i>
            </div>
        </div>
    </div>

    <div class="box">
        <div class="box-header count_common_box">
            <span class="caption-subject">系统信息</span>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-primary btn-sm" data-widget="collapse"><i class="icon icon-minus"></i></i>
                </button>
                <button type="button" class="btn btn-danger btn-sm" data-widget="remove"><i class="icon icon-times"></i>
                </button>
            </div>
        </div>
        <div class="box-body">
            <div class="portlet-body">
                <table class="table table-bordered table-striped ">
                    <tr>
                        <th>{:lang('_SERVER_OS_')}</th>
                        <td>{$Think.const.PHP_OS}</td>
                    </tr>
                    <tr>
                        <th>{:lang('_THINKPHP_VERSION_')}</th>
                        <td>{$Think.VERSION}</td>
                    </tr>
                    <tr>
                        <th>{:lang('_RUNTIME_ENVIR_')}</th>
                        <td>{$_SERVER['SERVER_SOFTWARE']}</td>
                    </tr>
                    <tr>
                        <th>{:lang('_MYSQL_VERSION_')}</th>
                        {php}
                            $system_info_mysql = db()->query("select version() as v;");
                        {/php}
                        <td>{$system_info_mysql.0.v}</td>
                    </tr>
                    <tr>
                        <th>{:lang('_LIMIT_UPLOAD_')}</th>
                        <td>{:ini_get('upload_max_filesize')}

                           {:lang('_MODIFY_HOW_TO_')}</td>
                    </tr>
                    <tr>
                        <th>{:lang('_MUUCMF_VERSION_')}</th>
                        <td data-id="version" data-value="{$version}">{$version}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</section>









