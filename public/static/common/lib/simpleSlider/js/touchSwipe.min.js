"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(re){var le="left",oe="right",ue="up",ae="down",se="in",ce="out",pe="none",he="auto",fe="swipe",de="pinch",ge="tap",we="doubletap",ve="longtap",Te="horizontal",be="vertical",ye="all",Se=10,me="start",Ee="move",Oe="end",xe="cancel",Le="ontouchstart"in window,Me="TouchSwipe";function i(e,v){var t=Le||!v.fallbackToMouseEvents,n=t?"touchstart":"mousedown",i=t?"touchmove":"mousemove",r=t?"touchend":"mouseup",l=t?null:"mouseleave",o="touchcancel",T=0,b=null,y=0,S=0,m=0,E=1,O=0,x=0,L=null,u=re(e),M="start",D=0,P=null,a=0,R=0,s=0,c=0,p=0,h=null;try{u.bind(n,f),u.bind(o,w)}catch(e){re.error("events not supported "+n+","+o+" on jQuery.swipe")}function f(e){if(!0!==u.data(Me+"_intouch")&&!(0<re(e.target).closest(v.excludedElements,u).length)){var t,n,i=e.originalEvent?e.originalEvent:e,r=Le?i.touches[0]:i;return M=me,Le?D=i.touches.length:e.preventDefault(),x=b=null,E=1,O=m=S=y=T=0,P=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(n={})[le]=ee(le),n[oe]=ee(oe),n[ue]=ee(ue),n[ae]=ee(ae),L=n,G(),!Le||D===v.fingers||v.fingers===ye||X()?(J(0,r),a=ie(),2==D&&(J(1,i.touches[1]),S=m=ne(P[0].start,P[1].start)),(v.swipeStatus||v.pinchStatus)&&(t=N(i,M))):t=!1,!1===t?(N(i,M=xe),t):(B(!0),null)}}function d(e){var t=e.originalEvent?e.originalEvent:e;if(M!==Oe&&M!==xe&&!Z()){var n,i,r,l,o,u,a,s,c,p,h,f,d=K(Le?t.touches[0]:t);if(R=ie(),Le&&(D=t.touches.length),M=Ee,2==D&&(0==S?(J(1,t.touches[1]),S=m=ne(P[0].start,P[1].start)):(K(t.touches[1]),m=ne(P[0].end,P[1].end),P[0].end,P[1].end,x=E<1?ce:se),E=(m/S*1).toFixed(2),O=Math.abs(S-m)),D===v.fingers||v.fingers===ye||!Le||X()){if(p=d.start,h=d.end,f=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),l=Math.round(180*r/Math.PI);l<0&&(l=360-Math.abs(l));return l}(p,h),function(e,t){if(v.allowPageScroll===pe||X())e.preventDefault();else{var n=v.allowPageScroll===he;switch(t){case le:(v.swipeLeft&&n||!n&&v.allowPageScroll!=Te)&&e.preventDefault();break;case oe:(v.swipeRight&&n||!n&&v.allowPageScroll!=Te)&&e.preventDefault();break;case ue:(v.swipeUp&&n||!n&&v.allowPageScroll!=be)&&e.preventDefault();break;case ae:(v.swipeDown&&n||!n&&v.allowPageScroll!=be)&&e.preventDefault()}}}(e,b=f<=45&&0<=f?le:f<=360&&315<=f?le:135<=f&&f<=225?oe:45<f&&f<135?ae:ue),s=d.start,c=d.end,T=Math.round(Math.sqrt(Math.pow(c.x-s.x,2)+Math.pow(c.y-s.y,2))),y=te(),u=b,a=T,a=Math.max(a,$(u)),L[u].distance=a,(v.swipeStatus||v.pinchStatus)&&(n=N(t,M)),!v.triggerOnTouchEnd||v.triggerOnTouchLeave){var g=!0;if(v.triggerOnTouchLeave){var w={left:(o=(l=re(l=this)).offset()).left,right:o.left+l.outerWidth(),top:o.top,bottom:o.top+l.outerHeight()};i=d.end,r=w,g=i.x>r.left&&i.x<r.right&&i.y>r.top&&i.y<r.bottom}!v.triggerOnTouchEnd&&g?M=I(Ee):v.triggerOnTouchLeave&&!g&&(M=I(Oe)),M!=xe&&M!=Oe||N(t,M)}}else N(t,M=xe);!1===n&&N(t,M=xe)}}function g(e){var t=e.originalEvent;return Le&&0<t.touches.length?(s=ie(),c=event.touches.length+1,!0):(Z()&&(D=c),e.preventDefault(),R=ie(),y=te(),_()?N(t,M=xe):v.triggerOnTouchEnd||0==v.triggerOnTouchEnd&&M===Ee?N(t,M=Oe):!v.triggerOnTouchEnd&&F()?U(t,M=Oe,ge):M===Ee&&N(t,M=xe),B(!1),null)}function w(){m=S=a=R=D=0,E=1,G(),B(!1)}function k(e){var t=e.originalEvent;v.triggerOnTouchLeave&&N(t,M=I(Oe))}function A(){u.unbind(n,f),u.unbind(o,w),u.unbind(i,d),u.unbind(r,g),l&&u.unbind(l,k),B(!1)}function I(e){var t=e,n=j(),i=H(),r=_();return!n||r?t=xe:!i||e!=Ee||v.triggerOnTouchEnd&&!v.triggerOnTouchLeave?!i&&e==Oe&&v.triggerOnTouchLeave&&(t=xe):t=Oe,t}function N(e,t){var n=void 0;return Y()&&q()||q()?n=U(e,t,fe):(Q()&&X()||X())&&!1!==n&&(n=U(e,t,de)),z()&&V()&&!1!==n?n=U(e,t,we):y>v.longTapThreshold&&T<Se&&v.longTap&&!1!==n?n=U(e,t,ve):1!==D&&Le||!isNaN(T)&&0!==T||!F()||!1===n||(n=U(e,t,ge)),t===xe&&w(),t===Oe&&(Le?0==e.touches.length&&w():w()),n}function U(e,t,n){var i=void 0;if(n==fe){if(u.trigger("swipeStatus",[t,b||null,T||0,y||0,D]),v.swipeStatus&&!1===(i=v.swipeStatus.call(u,e,t,b||null,T||0,y||0,D)))return!1;if(t==Oe&&Y()){if(u.trigger("swipe",[b,T,y,D]),v.swipe&&!1===(i=v.swipe.call(u,e,b,T,y,D)))return!1;switch(b){case le:u.trigger("swipeLeft",[b,T,y,D]),v.swipeLeft&&(i=v.swipeLeft.call(u,e,b,T,y,D));break;case oe:u.trigger("swipeRight",[b,T,y,D]),v.swipeRight&&(i=v.swipeRight.call(u,e,b,T,y,D));break;case ue:u.trigger("swipeUp",[b,T,y,D]),v.swipeUp&&(i=v.swipeUp.call(u,e,b,T,y,D));break;case ae:u.trigger("swipeDown",[b,T,y,D]),v.swipeDown&&(i=v.swipeDown.call(u,e,b,T,y,D))}}}if(n==de){if(u.trigger("pinchStatus",[t,x||null,O||0,y||0,D,E]),v.pinchStatus&&!1===(i=v.pinchStatus.call(u,e,t,x||null,O||0,y||0,D,E)))return!1;if(t==Oe&&Q())switch(x){case se:u.trigger("pinchIn",[x||null,O||0,y||0,D,E]),v.pinchIn&&(i=v.pinchIn.call(u,e,x||null,O||0,y||0,D,E));break;case ce:u.trigger("pinchOut",[x||null,O||0,y||0,D,E]),v.pinchOut&&(i=v.pinchOut.call(u,e,x||null,O||0,y||0,D,E))}}return n==ge?t!==xe&&t!==Oe||(clearTimeout(h),V()&&!z()?(p=ie(),h=setTimeout(re.proxy(function(){p=null,u.trigger("tap",[e.target]),v.tap&&(i=v.tap.call(u,e,e.target))},this),v.doubleTapThreshold)):(p=null,u.trigger("tap",[e.target]),v.tap&&(i=v.tap.call(u,e,e.target)))):n==we?t!==xe&&t!==Oe||(clearTimeout(h),p=null,u.trigger("doubletap",[e.target]),v.doubleTap&&(i=v.doubleTap.call(u,e,e.target))):n==ve&&(t!==xe&&t!==Oe||(clearTimeout(h),p=null,u.trigger("longtap",[e.target]),v.longTap&&(i=v.longTap.call(u,e,e.target)))),i}function H(){var e=!0;return null!==v.threshold&&(e=T>=v.threshold),e}function _(){var e=!1;return null!==v.cancelThreshold&&null!==b&&(e=$(b)-T>=v.cancelThreshold),e}function j(){return!v.maxTimeThreshold||!(y>=v.maxTimeThreshold)}function Q(){var e=C(),t=W(),n=null===v.pinchThreshold||O>=v.pinchThreshold;return e&&t&&n}function X(){return!!(v.pinchStatus||v.pinchIn||v.pinchOut)}function Y(){var e=j(),t=H(),n=C(),i=W();return!_()&&i&&n&&t&&e}function q(){return!!(v.swipe||v.swipeStatus||v.swipeLeft||v.swipeRight||v.swipeUp||v.swipeDown)}function C(){return D===v.fingers||v.fingers===ye||!Le}function W(){return 0!==P[0].end.x}function F(){return!!v.tap}function V(){return!!v.doubleTap}function z(){if(null==p)return!1;var e=ie();return V()&&e-p<=v.doubleTapThreshold}function G(){c=s=0}function Z(){var e=!1;s&&(ie()-s<=v.fingerReleaseThreshold&&(e=!0));return e}function B(e){!0===e?(u.bind(i,d),u.bind(r,g),l&&u.bind(l,k)):(u.unbind(i,d,!1),u.unbind(r,g,!1),l&&u.unbind(l,k,!1)),u.data(Me+"_intouch",!0===e)}function J(e,t){var n=void 0!==t.identifier?t.identifier:0;return P[e].identifier=n,P[e].start.x=P[e].end.x=t.pageX||t.clientX,P[e].start.y=P[e].end.y=t.pageY||t.clientY,P[e]}function K(e){var t=function(e){for(var t=0;t<P.length;t++)if(P[t].identifier==e)return P[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function $(e){if(L[e])return L[e].distance}function ee(e){return{direction:e,distance:0}}function te(){return R-a}function ne(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function ie(){return(new Date).getTime()}this.enable=function(){return u.bind(n,f),u.bind(o,w),u},this.disable=function(){return A(),u},this.destroy=function(){return A(),u.data(Me,null),u},this.option=function(e,t){if(void 0!==v[e]){if(void 0===t)return v[e];v[e]=t}else re.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}re.fn.swipe=function(e){var t=re(this),n=t.data(Me);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));re.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!==(void 0===e?"undefined":_typeof(e))&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=pe);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n||(n={});return n=re.extend({},re.fn.swipe.defaults,n),this.each(function(){var e=re(this),t=e.data(Me);t||(t=new i(this,n),e.data(Me,t))})}.apply(this,arguments);return t},re.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"},re.fn.swipe.phases={PHASE_START:me,PHASE_MOVE:Ee,PHASE_END:Oe,PHASE_CANCEL:xe},re.fn.swipe.directions={LEFT:le,RIGHT:oe,UP:ue,DOWN:ae,IN:se,OUT:ce},re.fn.swipe.pageScroll={NONE:pe,HORIZONTAL:Te,VERTICAL:be,AUTO:he},re.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:ye}});